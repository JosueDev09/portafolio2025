---
import './about.css';
---

<section
  id="sobre-mi" 
  class="bg-gray-900 text-white flex items-center justify-center p-6 min-h-[80vh]"
>
  <div id="about-content" class="max-w-6xl mx-auto w-full">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center">
      
      <!-- Texto -->
      <div class="space-y-6 text-left lg:pr-8 relative">
        <!-- Controles del slider -->
        <div class="flex justify-center lg:justify-start mb-6">
          <div class="flex bg-gray-800/50 rounded-lg p-1 backdrop-blur-sm">
            <button 
              id="tab-about" 
              class="tab-button active px-4 py-2 rounded-md text-sm font-medium transition-all duration-300"
            >
              Sobre Mi
            </button>
            <button 
              id="tab-experience" 
              class="tab-button px-4 py-2 rounded-md text-sm font-medium transition-all duration-300"
            >
              Mi Experiencia
            </button>
          </div>
        </div>

        <!-- Contenedor del slider -->
        <div id="slider-container" class="relative overflow-hidden">
          <!-- Slide 1: Sobre Mi -->
          <div id="slide-about" class="slide-content">
            <h1 id="title-about" class="text-4xl lg:text-5xl font-bold mb-6 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent transition-all duration-1000 ease-[cubic-bezier(0.25,0.8,0.25,1)]">
              Sobre Mi
            </h1>
            <div id="content-about">
              <p class="text-lg lg:text-xl leading-relaxed text-gray-300 mb-4">
                Â¡Hola! Soy <span class="text-blue-400 font-semibold">Josue Flores</span>, un desarrollador web apasionado por crear experiencias digitales atractivas y funcionales.
              </p>
              <p class="text-lg lg:text-xl leading-relaxed text-gray-300 mb-4">
                Me encanta aprender nuevas tecnologÃ­as y mejorar mis habilidades constantemente.
              </p>
              <p class="text-lg lg:text-xl leading-relaxed text-gray-300">
                Cuando no estoy codificando, me gusta explorar la naturaleza, leer libros de tecnologÃ­a y jugar videojuegos.
              </p>
            </div>
          </div>

          <!-- Slide 2: Mi Experiencia -->
          <div id="slide-experience" class="slide-content">
            <h1 id="title-experience" class="text-4xl lg:text-5xl font-bold mb-6 bg-gradient-to-r from-purple-400 to-cyan-500 bg-clip-text text-transparent transition-all duration-1000 ease-[cubic-bezier(0.25,0.8,0.25,1)]">
              Mi Experiencia
            </h1>
            <div id="content-experience">
              <div class="space-y-4">
                <div class="border-l-4 border-purple-500 pl-4">
                  <h3 class="text-xl font-semibold text-purple-400 mb-2">Desarrollador Full Stack</h3>
                  <p class="text-gray-300 mb-2">2022 - Presente</p>
                  <p class="text-gray-400">Desarrollo de aplicaciones web modernas usando React, Node.js, y tecnologÃ­as de vanguardia.</p>
                </div>
                <div class="border-l-4 border-cyan-500 pl-4">
                  <h3 class="text-xl font-semibold text-cyan-400 mb-2">Frontend Developer</h3>
                  <p class="text-gray-300 mb-2">2021 - 2022</p>
                  <p class="text-gray-400">EspecializaciÃ³n en interfaces de usuario interactivas y responsive design.</p>
                </div>
                <div class="border-l-4 border-blue-500 pl-4">
                  <h3 class="text-xl font-semibold text-blue-400 mb-2">Freelancer</h3>
                  <p class="text-gray-300 mb-2">2020 - 2021</p>
                  <p class="text-gray-400">Proyectos independientes enfocados en desarrollo web y diseÃ±o UI/UX.</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="flex flex-wrap gap-4 mt-8">
          <a href="/contact" class="bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded-lg font-semibold transition-colors duration-300">
            ContÃ¡ctame
          </a>
          <a href="/services" class="border border-blue-400 hover:bg-blue-400/10 px-6 py-3 rounded-lg font-semibold transition-colors duration-300">
            Ver Proyectos
          </a>
        </div>
      </div>

      <!-- Imagen -->
      <div class="relative flex justify-center lg:justify-end">
        <div class="relative">
          <div id="image-container" class="relative z-10 overflow-hidden rounded-2xl hover:shadow-blue-500/20 hover:scale-105
            transition-all duration-500">
            <!-- Imagen principal (Sobre Mi) -->
            <img 
              id="image-about"
              src="/assets/imgConvertidas/about1.webp" 
              alt="Josue - Desarrollador Web" 
              class="hero-style-img w-80 h-96 lg:w-96 lg:h-[28rem] object-cover transition-all duration-1000"
               style="background: transparent;"
            />
            <!-- Imagen secundaria (Mi Experiencia) -->
            <img 
              id="image-experience"
              src="/assets/imgConvertidas/IMG_6531.webp" 
              alt="Josue - Experiencia" 
              class="hero-style-img w-80 h-96 lg:w-96 lg:h-[28rem] absolute top-0 left-0 opacity-0 transition-all duration-1000"
              style="background: transparent;"
            />
          </div>

          <!-- Elementos decorativos -->
          <div id="decoration-1" class="absolute -top-4 -left-4 w-20 h-20 bg-blue-500/20 rounded-full blur-xl"></div>
          <div id="decoration-2" class="absolute -bottom-6 -right-6 w-32 h-32 bg-purple-500/20 rounded-full blur-xl"></div>
          <div id="decoration-3" class="absolute top-1/2 -right-8 w-16 h-16 bg-cyan-400/20 rounded-full blur-lg"></div>
        </div>
      </div>
      
    </div>
  </div>
</section>



<script>
  // ðŸŽ¯ SLIDER ABOUT/EXPERIENCE CONTROL
  document.addEventListener('DOMContentLoaded', function() {
    console.log('ðŸš€ About Slider cargado');
    
    // Elementos del DOM
    const tabAbout = document.getElementById('tab-about') as HTMLButtonElement;
    const tabExperience = document.getElementById('tab-experience') as HTMLButtonElement;
    const slideAbout = document.getElementById('slide-about') as HTMLElement;
    const slideExperience = document.getElementById('slide-experience') as HTMLElement;
    const imageAbout = document.getElementById('image-about') as HTMLImageElement;
    const imageExperience = document.getElementById('image-experience') as HTMLImageElement;
    const decoration1 = document.getElementById('decoration-1') as HTMLElement;
    const decoration2 = document.getElementById('decoration-2') as HTMLElement;
    const decoration3 = document.getElementById('decoration-3') as HTMLElement;

    let currentSlide = 'about'; // Estado actual
    let autoSlideInterval: ReturnType<typeof setInterval>;

    // FunciÃ³n para cambiar slide
    function changeSlide(targetSlide: 'about' | 'experience') {
      if (currentSlide === targetSlide) return;

      console.log(`ðŸ”„ Cambiando a: ${targetSlide}`);
      currentSlide = targetSlide;

      if (targetSlide === 'about') {
        // Activar slide "Sobre Mi"
        
        // Tabs
        tabAbout?.classList.add('active');
        tabExperience?.classList.remove('active');
        
        // Slides
        if (slideAbout) {
          slideAbout.style.position = 'relative';
          slideAbout.style.transform = 'translateX(0)';
          slideAbout.style.opacity = '1';
          slideAbout.style.zIndex = '2';
        }
        
        if (slideExperience) {
          slideExperience.style.position = 'absolute';
          slideExperience.style.transform = 'translateX(100%)';
          slideExperience.style.opacity = '0';
          slideExperience.style.zIndex = '1';
        }
        
        // ImÃ¡genes
        if (imageAbout) imageAbout.style.opacity = '1';
        if (imageExperience) imageExperience.style.opacity = '0';
        
        console.log('âœ… Slide ABOUT activado');
        
      } else {
        // Activar slide "Mi Experiencia"
        
        // Tabs
        tabAbout?.classList.remove('active');
        tabExperience?.classList.add('active');
        
        // Slides
        if (slideExperience) {
          slideExperience.style.position = 'absolute';
          slideExperience.style.top = '0';
          slideExperience.style.left = '0';
          slideExperience.style.width = '100%';
          slideExperience.style.transform = 'translateX(0)';
          slideExperience.style.opacity = '1';
          slideExperience.style.zIndex = '2';
        }
        
        if (slideAbout) {
          slideAbout.style.transform = 'translateX(-100%)';
          slideAbout.style.opacity = '0';
          slideAbout.style.zIndex = '1';
        }
        
        // ImÃ¡genes
        if (imageAbout) imageAbout.style.opacity = '0';
        if (imageExperience) imageExperience.style.opacity = '1';
        
        console.log('âœ… Slide EXPERIENCE activado');
        
        // Debug: Verificar si el contenido estÃ¡ ahÃ­
        const contentExperience = document.getElementById('content-experience');
        if (contentExperience) {
          console.log('ðŸ“„ Contenido experience encontrado:', contentExperience.innerText.slice(0, 50));
        } else {
          console.log('âŒ No se encontrÃ³ content-experience');
        }
      }
      
      // Decoraciones
      updateDecorations(targetSlide === 'experience');
    }

    // FunciÃ³n para actualizar decoraciones
    function updateDecorations(isExperience: boolean) {
      if (!decoration1 || !decoration2 || !decoration3) return;
      
      if (isExperience) {
        // Colores para "Mi Experiencia"
        decoration1.style.backgroundColor = "rgba(147, 51, 234, 0.3)"; // purple
        decoration2.style.backgroundColor = "rgba(6, 182, 212, 0.25)"; // cyan
        decoration3.style.backgroundColor = "rgba(236, 72, 153, 0.25)"; // pink
      } else {
        // Colores para "Sobre Mi"
        decoration1.style.backgroundColor = "rgba(59, 130, 246, 0.2)"; // blue
        decoration2.style.backgroundColor = "rgba(147, 51, 234, 0.2)"; // purple  
        decoration3.style.backgroundColor = "rgba(6, 182, 212, 0.2)"; // cyan
      }
    }

    // Auto-slide cada 8 segundos
    // function startAutoSlide() {
    //   autoSlideInterval = setInterval(() => {
    //     const nextSlide = currentSlide === 'about' ? 'experience' : 'about';
    //     changeSlide(nextSlide);
    //   }, 10000);
    // }

    // function resetAutoSlide() {
    //   clearInterval(autoSlideInterval);
    //   startAutoSlide();
    // }

    // Event listeners para los tabs
    if (tabAbout) {
      tabAbout.addEventListener('click', () => {
        changeSlide('about');
     //   resetAutoSlide();
      });
    }

    if (tabExperience) {
      tabExperience.addEventListener('click', () => {
        changeSlide('experience');
      //  resetAutoSlide();
      });
    }

    // Inicializar estado
    changeSlide('about');
    //startAutoSlide();
    
    console.log('âœ… About Slider inicializado');
  });
</script>
